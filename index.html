<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playbook - MisiÃ³n 39</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .header {
            background-color: #5DADE2; /* Azul Gnius */
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px 8px 0 0;
        }
        .header h1 {
            margin: 0;
            font-size: 1.8em;
        }
        .banner {
            background-color: #85C1E9; /* Azul mÃ¡s claro */
            color: #333;
            padding: 15px;
            cursor: pointer;
            margin-bottom: 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        .banner:hover {
            background-color: #AED6F1;
        }
        .banner .title {
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .banner .subtitle {
            font-size: 1em;
            margin-top: 8px;
            border-top: 1px solid #fff;
            padding-top: 8px;
            color: #1A5276; /* Azul oscuro texto */
        }
        .content {
            display: none;
            padding: 15px;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            background-color: #EAF2F8; /* Azul muy claro fondo */
            border-radius: 5px;
        }
        .dialogue {
            background-color: #FEF9E7; /* Amarillo pÃ¡lido para diÃ¡logo */
            border: 1px solid #FAD7A0;
            border-radius: 10px;
            padding: 10px 15px;
            margin: 15px 0;
            text-align: left; /* Cambiado a izquierda para mejor lectura */
            font-style: italic;
            color: #784212; /* MarrÃ³n oscuro texto */
            position: relative; /* Para el bocadillo */
            border-left: 5px solid #F39C12; /* Naranja */
        }

        .dropdown {
            margin-bottom: 25px;
            text-align: center; /* Centrar dropdown */
        }
        .dropdown label {
            font-weight: bold;
            color: #1A5276;
        }
        .dropdown select {
            font-size: 1.1em;
            padding: 8px 12px;
            margin-left: 10px;
            border-radius: 5px;
            border: 1px solid #85C1E9;
        }
        table { width: 100%; border-collapse: collapse; margin-top: 10px;}
        td { padding: 12px; border: 1px solid #AED6F1; vertical-align: top; }
        td strong { color: #1A5276; }
        .level-title { /* Clase especÃ­fica para el tÃ­tulo del nivel */
             text-align: center;
             color: #5DADE2;
             font-size: 1.4em;
             margin-bottom: 20px;
        }
        /* Clases para ocultar/mostrar contenido por nivel */
        .k1-content, .k2-content, .k3-content { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Playbook - MisiÃ³n 39: El Eco Musical del CaÃ±Ã³n Secreto</h1>
        </div>

        <div class="dropdown">
            <label for="class-level">Nivel:</label>
            <select id="class-level" onchange="updateContent()">
                <option value="K1">K1 (3 aÃ±os)</option>
                <option value="K2">K2 (4 aÃ±os)</option>
                <option value="K3">K3 (5 aÃ±os)</option>
            </select>
        </div>

        <h2 id="selected-level" class="level-title">Nivel: K1 (3 aÃ±os)</h2>

        <!-- ............................................AquÃ­ empezarÃ¡n las actividades........................................... -->

<!-- Actividad 0: RevisiÃ³n de Materiales -->
<div id="activity-0" class="activity">
    <div class="banner" onclick="toggleContent('revision_materiales')">
        <div class="title">ğŸ“š Actividad 0: RevisiÃ³n de Materiales</div>
        <div class="subtitle">Objetivo: Asegurarse de que todos los materiales necesarios para la clase estÃ©n disponibles y preparados antes de que lleguen los niÃ±os.</div>
    </div>
    <div id="revision_materiales" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (N/A):</strong> Revisa que tengas listos los materiales indicados en la **DIAPOSITIVA 1**: 1 Kinderbot y 10 iBricks por cada pareja (idealmente de 2 o 3 colores/tipos distinguibles). Kinderbots cargados.</td>
                <td><strong>DIÃLOGO SUGERIDO:</strong> N/A</td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 1: Bienvenida e IntroducciÃ³n -->
<div id="activity-1" class="activity">
    <div class="banner" onclick="toggleContent('bienvenida')">
        <div class="title">ğŸ‰ Actividad 1: Â¡Detectives del Ritmo! â° Tiempo: 1 minuto</div>
        <div class="subtitle">Objetivo: Introducir la idea de patrones repetitivos en un circuito y la necesidad de identificar la "unidad" que se repite.</div>
    </div>
    <div id="bienvenida" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 2** â€œBienvenidaâ€. Saluda como musicÃ³logos o exploradores de sonidos.</td>
                <td>
                    <div class="dialogue">
                        "Â¡Hola, sÃºper exploradores del sonido y el ritmo! Â¡El CODE SQUAD tiene una nueva misiÃ³n musical! Hoy vamos a viajar a un lugar mÃ¡gico donde los caminos... Â¡tienen ritmo! Â¡Como una canciÃ³n que se repite! Â¿EstÃ¡n listos para descubrir la mÃºsica secreta de los caminos?"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 3** "Gimnasio CODE SQUAD". Explica que necesitan entrenar el oÃ­do y la mente para encontrar la parte que se repite (el ritmo).</td>
                <td>
                     <div class="dialogue">
                        "Para encontrar el ritmo escondido en el camino, Â¡nuestros oÃ­dos y ojos de detective musical tienen que estar sÃºper afinados! Necesitamos encontrar esa pequeÃ±a parte de la 'canciÃ³n del camino' que se repite una y otra vez. Â¡Vamos al Gimnasio Cerebral a practicar cÃ³mo encontrar ritmos y secuencias repetitivas!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 2: Baile de Algoritmos -->
<div id="activity-2" class="activity">
    <div class="banner" onclick="toggleContent('baile-algoritmos')">
        <div class="title">ğŸ¶ Actividad 2: Baile de Algoritmos â° Tiempo: 2 minutos</div>
        <div class="subtitle">Objetivo: Practicar una secuencia de baile que tenga una clara repeticiÃ³n para reforzar el concepto.</div>
    </div>
    <div id="baile-algoritmos" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 4** â€œBaile de Algoritmosâ€. GuÃ­a el baile, seÃ±alando la parte que se repite en la coreografÃ­a.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Bailarines del ritmo! Â¡Este baile tiene un secreto! Â¡Hay una parte que hacemos una y otra vez! Â¿Pueden encontrarla? Â¡QuizÃ¡s es 'Adelante-Gira-Aplauso'! Â¡Y luego lo repetimos! Â¡Sigan la mÃºsica y encuentren la parte que se repite! Â¡AsÃ­ entrenamos para encontrar el ritmo del camino!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 3: Planteamiento del Problema - El CaÃ±Ã³n del Eco Musical -->
<div id="activity-3" class="activity">
    <div class="banner" onclick="toggleContent('planteamiento-problema')">
        <div class="title">ğŸï¸ Actividad 3: El Secreto del CaÃ±Ã³n del Eco â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Presentar la historia del caÃ±Ã³n, el camino con patrÃ³n repetitivo y el reto de identificar la unidad y programar su repeticiÃ³n.</div>
    </div>
    <div id="planteamiento-problema" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 5**. Narra la historia del CaÃ±Ã³n del Eco, donde el camino repite un patrÃ³n para activar cristales musicales.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Exploradores! Â¡Hemos llegado al increÃ­ble CaÃ±Ã³n del Eco Musical! Dicen las leyendas que este caÃ±Ã³n es mÃ¡gico. Si sigues el camino de baldosas de colores (Â¡nuestros bloques!) en el orden correcto, Â¡haciendo eco al patrÃ³n del camino, despiertas unos cristales musicales escondidos al final que cantan una melodÃ­a secreta! Â¡Pero el camino es largo y parece repetirse!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 6**. Muestra un ejemplo del circuito con patrÃ³n repetitivo (ej. AAB AAB AAB). Explica el reto: identificar la unidad (AAB) y programar a Kinderbot para repetirla tantas veces como sea posible (hasta 8 pasos).</td>
                <td>
                     <div class="dialogue">
                        "Â¡Miren el camino del caÃ±Ã³n! (Muestra patrÃ³n AAB AAB o similar con iBricks). Â¿Notan algo especial? Â¡Parece que hay una parte que se repite! Â¡Como AAB, y luego otra vez AAB! Â¡Ese es el 'eco', la unidad que se repite! Nuestra misiÃ³n, detectives del ritmo, es: 1. Construir este camino rÃ­tmico con los bloques. 2. Descubrir cuÃ¡l es la parte pequeÃ±a que se repite (la unidad). 3. Programar a Kinderbot para hacer esa unidad... Â¡y repetirla! Le diremos que haga la secuencia del eco una y otra vez para avanzar por el caÃ±Ã³n y despertar los cristales. Â¿Listos para encontrar el ritmo y programar el eco?"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 4: FormaciÃ³n de Parejas -->
<div id="activity-4" class="activity">
    <div class="banner" onclick="toggleContent('formacion-parejas')">
        <div class="title">ğŸ¤ Actividad 4: Â¡DÃºos RÃ­tmicos! â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Formar parejas para construir el circuito rÃ­tmico, identificar la unidad de repeticiÃ³n y planificar la programaciÃ³n.</div>
    </div>
    <div id="formacion-parejas" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 7** â€œFormaciÃ³n de Equiposâ€. Explica que encontrar ritmos y programar repeticiones es genial en dÃºo. Forma las parejas.</td>
                <td>
                     <div class="dialogue">
                        "Â¡MÃºsicos y programadores! Â¡Encontrar el ritmo secreto de un camino es mÃ¡s fÃ¡cil si dos pares de oÃ­dos y ojos trabajan juntos! Â¡Y programar repeticiones necesita buena comunicaciÃ³n! Â¡Formen sus DÃºos RÃ­tmicos para esta misiÃ³n musical! Â¡Encuentren a su compaÃ±ero de banda!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1 minuto):</strong> Verifica que todos tengan pareja. AnÃ­males a empezar a construir el camino rÃ­tmico de su nivel y a buscar la parte que se repite.</td>
                <td>
                     <div class="dialogue">
                        "Â¿DÃºos listos? Â¡Genial! Â¡Manos a los bloques! Construyan el camino del caÃ±Ã³n que les toca (miren el ejemplo de su nivel). Y mientras construyen, Â¡sean detectives! Â¿QuÃ© parte del camino se repite? Â¿Es AB? Â¿AAB? Â¿ABC? Â¡Encuentren el eco!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 5: Reto de CodificaciÃ³n - Â¡Programando el Eco Musical! -->
<div id="activity-5" class="activity">
    <div class="banner" onclick="toggleContent('reto-codificacion')">
        <div class="title">âŒ¨ï¸ Actividad 5: Â¡CÃ³digo del Eco! â° Tiempo: 8 minutos</div>
        <div class="subtitle">Objetivo: Construir el circuito con patrÃ³n repetitivo. Identificar la unidad del patrÃ³n. Programar la secuencia de la unidad y repetirla (mentalmente o en el cÃ³digo) hasta 8 pasos.</div>
    </div>
    <div id="reto-codificacion" class="content">
        <table>
            <!-- Paso ComÃºn: Construir Circuito y Identificar Unidad -->
             <tr>
                <td><strong>PASO 1 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 8** "Â¡Pista RÃ­tmica Lista! Â¿CuÃ¡l es el Eco?". GuÃ­a para que terminen de construir su circuito con patrÃ³n repetitivo. Ayuda a identificar la unidad que se repite (AB, AAB, ABC). Repasa botones A, GI, GD.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Miren sus caminos rÃ­tmicos! Â¡EstÃ¡n geniales! Ahora, el trabajo de detective: Â¿CuÃ¡l es la parte pequeÃ±a que se repite una y otra vez? Â¿Es 'Rojo-Azul'? Â¿O 'Rojo-Rojo-Azul'? Â¿O 'Rojo-Azul-Verde'? Â¡Esa parte es nuestro 'Eco'! (AsegÃºrate de que cada equipo identifique su unidad). Â¡Perfecto! Ahora, recordemos los botones para seguir ese eco: Adelante, Girar Izquierda, Girar Derecha."
                    </div>
                </td>
            </tr>
            <!-- Contenido EspecÃ­fico por Nivel -->
             <!-- K1 -->
            <tr class="k1-content">
                <td><strong>PASO 2 - K1 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 9** "MisiÃ³n K1: Eco AB". PatrÃ³n AB repetido 3 veces (6 bloques). Unidad = AB (ej. Rojo-Azul). Programar la secuencia de la unidad (ej. A, G) y repetirla 3 veces en el cÃ³digo (A, G, A, G, A, G - 6 pasos).</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipo K1! Su eco es AB (ej. Rojo-Azul). Â¿QuÃ© pasos necesita Kinderbot para hacer UN eco? Â¡QuizÃ¡s 'Adelante' (para A) y 'Girar' (para B)! Son 2 pasos. Â¡Pero el camino repite el eco TRES veces! AsÃ­ que programaremos: Eco 1 (A, G), Eco 2 (A, G), Eco 3 (A, G). Â¡En total 6 pasos! Â¡Programen A, G, A, G, A, G! Â¡Sin 'Go'!"
                    </div>
                </td>
            </tr>
             <!-- K2 -->
             <tr class="k2-content">
                <td><strong>PASO 2 - K2 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 10** "MisiÃ³n K2: Eco AAB". PatrÃ³n AAB repetido 2-3 veces (6-9 bloques). Unidad = AAB (ej. R-R-Az). Programar la secuencia de la unidad (ej. A, A, G) y repetirla 2 veces o lo mÃ¡s posible hasta 8 pasos (ej. A, A, G, A, A, G - 6 pasos; o A,A,G, A,A,G, A,A - 8 pasos).</td>
                 <td>
                     <div class="dialogue">
                        "Â¡DÃºos K2! Su eco es AAB (ej. Rojo-Rojo-Azul). Â¿QuÃ© pasos son para UN eco? QuizÃ¡s 'Adelante', 'Adelante', 'Girar'. Â¡Son 3 pasos! Su camino repite el eco varias veces. Â¡Programemos el eco DOS veces seguidas! SerÃ­a: Eco 1 (A, A, G), Eco 2 (A, A, G). Â¡Son 6 pasos! Â¿PodrÃ­amos aÃ±adir mÃ¡s del eco sin pasarnos de 8 pasos? Â¡QuizÃ¡s dos 'Adelante' mÃ¡s (A, A) del siguiente eco! Â¡Programen A, A, G, A, A, G, A, A (8 pasos)! Â¡Preparen el cÃ³digo! Â¡Sin activar 'Go'!"
                    </div>
                </td>
            </tr>
            <!-- K3 -->
             <tr class="k3-content">
                 <td><strong>PASO 2 - K3 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 11** "MisiÃ³n K3: Eco ABC Complejo". PatrÃ³n ABC repetido 2 veces (6 bloques). Unidad = ABC (ej. R-Az-V). Programar la secuencia de la unidad (ej. A, G, A) y repetirla 2 veces (A,G,A, A,G,A - 6 pasos). Planificar CÃ“MO programarÃ­an si el camino fuera mÃ¡s largo (entendiendo la repeticiÃ³n mÃ¡s allÃ¡ de 8 pasos).</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Maestros K3! Su eco es ABC (ej. Rojo-Azul-Verde). Â¿Pasos para UN eco? QuizÃ¡s 'Adelante' (A), 'Girar Izq' (B), 'Girar Der' (C). Â¡Son 3 pasos! Su camino repite el eco DOS veces. Â¡Programemos el eco dos veces! Eco 1 (A, GI, GD), Eco 2 (A, GI, GD). Â¡Son 6 pasos! Â¡Perfecto! Ahora, piensen: si el camino fuera MUCHO mÃ¡s largo y repitiera el eco 5 veces, Â¿cÃ³mo lo programarÃ­an? (No pueden meter 15 pasos, pero la idea es que entiendan que repetirÃ­an la secuencia A, GI, GD muchas veces). Â¡Programen ahora los 6 pasos! Â¡Sin 'Go'!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 6: Â¡Activando el Eco! -->
<div id="activity-6" class="activity">
    <div class="banner" onclick="toggleContent('probando-eco')">
        <div class="title">ğŸš€ Actividad 6: Â¡El Sonido del CaÃ±Ã³n! â° Tiempo: 5 minutos</div>
        <div class="subtitle">Objetivo: Ejecutar el cÃ³digo y observar si Kinderbot sigue el patrÃ³n repetitivo correctamente a lo largo del circuito.</div>
    </div>
    <div id="probando-eco" class="content">
        <table>
             <!-- K1 -->
            <tr class="k1-content">
                <td><strong>PASO 1 - K1 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 12** "Â¡Ã‰xito K1!". Anima a poner a Kinderbot al inicio del patrÃ³n ABABAB y presionar 'Go'. Observar si completa los 6 pasos repitiendo la secuencia AG. Celebrar.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipo K1! Â¡Kinderbot al inicio del camino rÃ­tmico! Â¿Listos con su cÃ³digo de 6 pasos (A, G, A, G, A, G)? Â¡Presionen 'Go'! Â¡Miren cÃ³mo hace el eco! Eco 1... Eco 2... Â¡Eco 3! Â¿SiguiÃ³ todo el patrÃ³n? Â¡SIIII! Â¡Han despertado la mÃºsica del caÃ±Ã³n! Â¡Bravo!"
                    </div>
                </td>
            </tr>
             <!-- K2 -->
             <tr class="k2-content">
                 <td><strong>PASO 1 - K2 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 13** "Â¡Ã‰xito K2!". Anima a poner a Kinderbot al inicio del patrÃ³n AAB repetido y presionar 'Go'. Observar si completa los 6 u 8 pasos programados. Celebrar.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡DÃºos K2! Â¡Kinderbot listo para el eco AAB! Â¿Preparados con su cÃ³digo largo de 6 u 8 pasos? Â¡Presionen 'Go'! Â¡Veamos cÃ³mo repite! Eco 1 (A, A, G)... Eco 2 (A, A, G)... Â¿y los pasos extra? Â¡IncreÃ­ble cÃ³mo repite la secuencia! Â¡Los cristales musicales deben estar brillando!"
                    </div>
                </td>
            </tr>
             <!-- K3 -->
             <tr class="k3-content">
                 <td><strong>PASO 1 - K3 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 14** "Â¡Ã‰xito K3!". Anima a poner a Kinderbot al inicio del patrÃ³n ABCABC y presionar 'Go'. Observar si completa los 6 pasos programados. Discutir cÃ³mo seguirÃ­a si pudiera. Celebrar la comprensiÃ³n de la repeticiÃ³n.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Maestros K3! Â¡Kinderbot al inicio del eco ABC! Â¿Listos con su cÃ³digo de 6 pasos (A, GI, GD, A, GI, GD)? Â¡Presionen 'Go'! Â¡Miren cÃ³mo repite la melodÃ­a! Eco 1... Eco 2... Â¡Perfecto! Y si pudiera seguir, Â¿quÃ© harÃ­a despuÃ©s? (Repetir A, GI, GD). Â¡Exacto! Â¡Han entendido el secreto de la repeticiÃ³n! Â¡Son genios del ritmo y el cÃ³digo!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 7: Mensaje del Cuartel (Omitida para MisiÃ³n 39) -->

<!-- Actividad 8: ConclusiÃ³n y ReflexiÃ³n -->
<div id="activity-8" class="activity">
    <div class="banner" onclick="toggleContent('conclusion-reflexion')">
        <div class="title">ğŸ Actividad 8: Â¡Cristales Activados y ReflexiÃ³n! â° Tiempo: 5 minutos</div>
        <div class="subtitle">Objetivo: Celebrar el Ã©xito, reforzar el concepto de identificar y programar patrones repetitivos (bucles simples).</div>
    </div>
    <div id="conclusion-reflexion" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 15** "Â¡MisiÃ³n Cumplida!". Cierra la historia (cristales cantando). Realiza preguntas de reflexiÃ³n sobre la repeticiÃ³n.</td>
                <td>
                    <div class="dialogue">
                        "Â¡ESCUCHEN, CODE SQUAD! Â¡Lo lograron! Â¡Gracias a que programaron el eco perfectamente, los Cristales Musicales del CaÃ±Ã³n han despertado y estÃ¡n cantando una hermosa melodÃ­a secreta! Â¡MisiÃ³n RÃ­tmica Cumplida! Pensemos en la mÃºsica del camino:
1. Â¿Era el camino de hoy una mezcla loca de bloques o tenÃ­a una parte que se repetÃ­a? (Â¡Se repetÃ­a!)
2. Â¿CÃ³mo llamamos a esa parte que se repetÃ­a? (Â¡El eco / La unidad!)
3. Â¿Fue Ãºtil encontrar el eco para programar a Kinderbot mÃ¡s rÃ¡pido, repitiendo esa parte?
Â¡Han aprendido a encontrar y usar repeticiones, como en las canciones o los bailes! Â¡Eso es sÃºper importante en programaciÃ³n! Â¡Son unos mÃºsicos y programadores fantÃ¡sticos! Â¡Felicidades!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

        <!-- ............................................AquÃ­ terminarÃ¡n las actividades........................................... -->

    </div>

<script>
    function toggleContent(id) {
        var content = document.getElementById(id);
        var parentActivity = content.closest('.activity');
        if (content.style.display === "block") {
            content.style.display = "none";
            parentActivity.classList.remove('active');
        } else {
            content.style.display = "block";
            parentActivity.classList.add('active');
        }
    }

    function updateContent() {
        var level = document.getElementById("class-level").value;
        var levelText = document.getElementById("class-level").options[document.getElementById("class-level").selectedIndex].text;
        document.getElementById("selected-level").innerText = "Nivel: " + levelText;

        var k1Contents = document.querySelectorAll('.k1-content');
        var k2Contents = document.querySelectorAll('.k2-content');
        var k3Contents = document.querySelectorAll('.k3-content');

        k1Contents.forEach(function(el) { el.style.display = 'none'; });
        k2Contents.forEach(function(el) { el.style.display = 'none'; });
        k3Contents.forEach(function(el) { el.style.display = 'none'; });

        var selectedContents = document.querySelectorAll('.' + level.toLowerCase() + '-content');
        selectedContents.forEach(function(el) {
             el.style.display = 'table-row';
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        updateContent();
    });
</script>

</body>
</html>